<app-section-layout [hasTitle]="false" cssClass="navigation">
<div class="w-100 center justify-content-start">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a routerLink="/">Home</a></li>
      <li class="breadcrumb-item active" aria-current="page">User</li>
    </ol>
  </nav>
</div>
</app-section-layout>

<app-section-layout title="User" [hasTitle]="true" cssClass="user">
  <form class="user__info mb w-100" (submit)="$event.preventDefault()" [formGroup]="formGroup">
    <mat-card class="mat-elevation-z6">
      <mat-card-content class="d-flex flex-column">
        <mat-form-field appearance="outline" color="accent">
          <mat-label>Name</mat-label>
          <input matInput  [(ngModel)]="user.name" formControlName="name">
        </mat-form-field>
        <mat-form-field appearance="outline" color="accent">
          <mat-label>Surname</mat-label>
          <input matInput [(ngModel)]="user.surname" formControlName="surname">
        </mat-form-field>
        <mat-form-field appearance="outline" color="accent">
          <mat-label>Patronymic</mat-label>
          <input matInput [(ngModel)]="user.patronymic" formControlName="patronymic">
        </mat-form-field>
      </mat-card-content>
    </mat-card>
  </form>
  <div class="user__add-car mb w-100">
     <mat-card class="w-100 mat-elevation-z6">
       <mat-card-content class="w-100 d-flex justify-content-start">
         <div class="mr">
           <button color="accent" mat-flat-button on-click="click()">Create a new car</button>
         </div>
         <div class="mr">
           <button color="warn" mat-flat-button on-click="deleteCar()">Delete car/cars</button>
         </div>
         <button color="accent" mat-flat-button on-click="changeCar()">Change the data of the car</button>
       </mat-card-content>
     </mat-card>
  </div>
  <div class="user__cars w-100 mb">
    <table mat-table [dataSource]="user.cars" class="mat-elevation-z6 w-100">
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> No. </th>
        <td mat-cell *matCellDef="let element">
          <mat-checkbox class="example-margin"
                        (change)="check($event, element.id)">
            <div>{{element.id}}</div>
          </mat-checkbox>
        </td>
      </ng-container>

      <ng-container matColumnDef="number">
        <th mat-header-cell *matHeaderCellDef> Number </th>
        <td mat-cell *matCellDef="let element">
          <div>
            {{element.number}}
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="manufacturer">
        <th mat-header-cell *matHeaderCellDef> Manufacturer </th>
        <td mat-cell *matCellDef="let element">
          <div>{{element.manufacturer}}</div>
        </td>
      </ng-container>

      <ng-container matColumnDef="model">
        <th mat-header-cell *matHeaderCellDef> Model </th>
        <td mat-cell *matCellDef="let element">
          <div>{{element.model}}</div>
        </td>
      </ng-container>

      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef> Date </th>
        <td mat-cell *matCellDef="let element">
          <div>{{element.date | date: 'yyyy'}}</div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="tableFields"></tr>
      <tr mat-row *matRowDef="let row; columns: tableFields"></tr>
    </table>
  </div>
  <div class="user__actions center w-100">
    <div class="center">
      <button mat-flat-button color="accent" (click)="saveChanges()">Save</button>
    </div>
  </div>
</app-section-layout>
